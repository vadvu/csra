<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Get started with csra • csra</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Get started with csra">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">csra</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.2.2</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="active nav-item"><a class="nav-link" href="../articles/csra.html">Get started</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/student.html">Materials for CSRA students/interns</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Get started with csra</h1>
            
      

      <div class="d-none name"><code>csra.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="example-1-equalparts">Example 1: <code>equalparts()</code><a class="anchor" aria-label="anchor" href="#example-1-equalparts"></a>
</h2>
<p>This is a basic example that shows you how the main (and really
powerful) function <code><a href="../reference/equalparts.html">equalparts()</a></code> works:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"datex"</span><span class="op">)</span> <span class="co">#it's an example panel "long" data that you can use</span></span>
<span></span>
<span><span class="co">#Now let's try to analyze how VDEM democracy index affects revolutionary situations</span></span>
<span><span class="fu"><a href="../reference/equalparts.html">equalparts</a></span><span class="op">(</span></span>
<span>  data <span class="op">=</span> <span class="va">datex</span>, <span class="co">#our data</span></span>
<span>  independent <span class="op">=</span> <span class="st">'VDEM_v2x_polyarchy'</span>, <span class="co">#independent var</span></span>
<span>  lag_independent <span class="op">=</span> <span class="cn">T</span>, <span class="co">#Should it be lagged? Yes, because political regime can change dramatically during revolutionary year</span></span>
<span>  lag_code <span class="op">=</span> <span class="st">"iso3"</span>, <span class="co">#by what unit lag is realized (object from country-year, in our case it is iso3 code)</span></span>
<span>  lead <span class="op">=</span> <span class="cn">T</span>, <span class="co">#due to data specific in the top we have earlier data - 2019, 2018, 2017, ..., so `lead` should be used. Otherwise, False is needed</span></span>
<span>  dependent <span class="op">=</span> <span class="st">'NVC_1.3_NONVIOL'</span>, <span class="co">#dependent var</span></span>
<span>  n <span class="op">=</span> <span class="fl">6</span>, <span class="co">#number of equal parts. If n = 10, it is decile analysis, 4 - quartile analysis and etc</span></span>
<span>  bar_or_scatter <span class="op">=</span> <span class="st">'scatter'</span>, <span class="co">#plot type, scatter is more powerful</span></span>
<span>  regline <span class="op">=</span> <span class="cn">TRUE</span>, <span class="co">#linear regression line</span></span>
<span>  return_data <span class="op">=</span> <span class="cn">FALSE</span>, <span class="co">#we want to see plot, so we do not need data</span></span>
<span>  conf_bars <span class="op">=</span> <span class="cn">TRUE</span>, <span class="co">#95%CI</span></span>
<span>  range_bars <span class="op">=</span> <span class="cn">FALSE</span>, <span class="co">#range (max-min) of independent var in each unit (for ex., decile)</span></span>
<span>  save_plot <span class="op">=</span> <span class="cn">FALSE</span> <span class="co">#we do not want to save plot, so its False</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p><img src="csra_files/figure-html/unnamed-chunk-2-1.png" width="100%"></p>
<p>The note section is constructed as follows:<br>
1. Pearson’s r (note,
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>C</mi><mi>o</mi><mi>r</mi><mrow><mo stretchy="true" form="prefix">(</mo><mi>X</mi><mo>,</mo><mi>Y</mi><mo stretchy="true" form="postfix">)</mo></mrow><mo>=</mo><mfrac><mrow><mi>C</mi><mi>o</mi><mi>v</mi><mrow><mo stretchy="true" form="prefix">(</mo><mi>X</mi><mo>,</mo><mi>Y</mi><mo stretchy="true" form="postfix">)</mo></mrow></mrow><msqrt><mrow><mi>D</mi><mrow><mo stretchy="true" form="prefix">(</mo><mi>X</mi><mo stretchy="true" form="postfix">)</mo></mrow><mi>D</mi><mrow><mo stretchy="true" form="prefix">(</mo><mi>Y</mi><mo stretchy="true" form="postfix">)</mo></mrow></mrow></msqrt></mfrac></mrow><annotation encoding="application/x-tex">Cor(X,Y) = \frac{Cov(X,Y)}{\sqrt{D(X)D(Y)}}</annotation></semantics></math>
that measures <strong><em>linear</em></strong> association)<br>
2. Lower and higher bound of 95% CI of correlation coefficient are in
square brackets<br>
3. p-value of a t-statistics that is in the brackets (so, it is
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi><mrow><mo stretchy="true" form="prefix">(</mo><mrow><mo stretchy="true" form="prefix">|</mo><mover><mi>t</mi><mo accent="true">̂</mo></mover><mo stretchy="true" form="postfix">|</mo></mrow><mo>&gt;</mo><msub><mi>t</mi><mn>0.975</mn></msub><mrow><mo stretchy="true" form="prefix">(</mo><mi>n</mi><mo>−</mo><mn>1</mn><mo stretchy="true" form="postfix">)</mo></mrow><mo stretchy="true" form="postfix">)</mo></mrow></mrow><annotation encoding="application/x-tex">P(|\hat{t}|&gt;t_{0.975}(n-1))</annotation></semantics></math>
).<br>
4.
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msup><mi>χ</mi><mn>2</mn></msup><annotation encoding="application/x-tex">\chi^2</annotation></semantics></math>
statistics with stars indicating the
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>p</mi><mo>&lt;</mo><mn>0.01</mn></mrow><annotation encoding="application/x-tex">p&lt;0.01</annotation></semantics></math>
level of significance (note, in this function
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi></mi><mrow><mo>*</mo><mo>*</mo><mo>*</mo></mrow></msup><mi>p</mi><mo>&lt;</mo><mn>0.01</mn><msup><mo>,</mo><mrow><mo>*</mo><mo>*</mo></mrow></msup><mi>p</mi><mo>&lt;</mo><mn>0.05</mn><msup><mo>,</mo><mo>*</mo></msup><mi>p</mi><mo>&lt;</mo><mn>0.1</mn></mrow><annotation encoding="application/x-tex">^{***}p&lt;0.01, ^{**}p&lt;0.05, ^{*}p&lt;0.1</annotation></semantics></math>
).</p>
<p>Plot that is returned by default can be easily changed by <a href="https://github.com/tidyverse/ggplot2/tree/main" class="external-link">ggplot2</a>
syntax. Just save function output and add to it ggplot2 blocks:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a></span><span class="op">)</span></span>
<span></span>
<span><span class="va">plot</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/equalparts.html">equalparts</a></span><span class="op">(</span></span>
<span>  data <span class="op">=</span> <span class="va">datex</span>,</span>
<span>  independent <span class="op">=</span> <span class="st">'VDEM_v2x_polyarchy'</span>,</span>
<span>  lag_independent <span class="op">=</span> <span class="cn">T</span>,</span>
<span>  lag_code <span class="op">=</span> <span class="st">"iso3"</span>,</span>
<span>  lead <span class="op">=</span> <span class="cn">T</span>,</span>
<span>  dependent <span class="op">=</span> <span class="st">'NVC_1.3_NONVIOL'</span>,</span>
<span>  n <span class="op">=</span> <span class="fl">6</span>,</span>
<span>  bar_or_scatter <span class="op">=</span> <span class="st">'scatter'</span>,</span>
<span>  regline <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  return_data <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  conf_bars <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  range_bars <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  save_plot <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># for ex., change axis names and theme</span></span>
<span><span class="va">plot</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">xlab</a></span><span class="op">(</span><span class="st">"x var name"</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">ylab</a></span><span class="op">(</span><span class="st">"y var name"</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_grey</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p><img src="csra_files/figure-html/unnamed-chunk-3-1.png" width="100%"></p>
<p>Also table with results can be returned, just set
<code>return_data = TRUE</code>:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/equalparts.html">equalparts</a></span><span class="op">(</span></span>
<span>  data <span class="op">=</span> <span class="va">datex</span>,</span>
<span>  independent <span class="op">=</span> <span class="st">'VDEM_v2x_polyarchy'</span>,</span>
<span>  lag_independent <span class="op">=</span> <span class="cn">T</span>,</span>
<span>  lag_code <span class="op">=</span> <span class="st">"iso3"</span>,</span>
<span>  lead <span class="op">=</span> <span class="cn">T</span>,</span>
<span>  dependent <span class="op">=</span> <span class="st">'NVC_1.3_NONVIOL'</span>,</span>
<span>  n <span class="op">=</span> <span class="fl">6</span>,</span>
<span>  bar_or_scatter <span class="op">=</span> <span class="st">'scatter'</span>,</span>
<span>  regline <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  return_data <span class="op">=</span> <span class="cn">TRUE</span>, <span class="co">#here</span></span>
<span>  conf_bars <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  range_bars <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  save_plot <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span>
<span><span class="co">#&gt;    parts Freq_0 Freq_1      means   min   max  prc5 prc95     low95CI</span></span>
<span><span class="co">#&gt; 7      1   1592     21 0.09029262 0.008 0.145 0.016 0.143 0.007487174</span></span>
<span><span class="co">#&gt; 8      2   1583     30 0.17917483 0.145 0.214 0.149 0.210 0.012005542</span></span>
<span><span class="co">#&gt; 9      3   1565     48 0.28196590 0.214 0.362 0.220 0.354 0.021465775</span></span>
<span><span class="co">#&gt; 10     4   1551     62 0.47658215 0.362 0.600 0.372 0.588 0.029055460</span></span>
<span><span class="co">#&gt; 11     5   1578     35 0.71369994 0.601 0.814 0.613 0.801 0.014588331</span></span>
<span><span class="co">#&gt; 12     6   1605      7 0.86508437 0.814 0.926 0.820 0.907 0.001132506</span></span>
<span><span class="co">#&gt;       high95CI</span></span>
<span><span class="co">#&gt; 7  0.018551264</span></span>
<span><span class="co">#&gt; 8  0.025192226</span></span>
<span><span class="co">#&gt; 9  0.038050654</span></span>
<span><span class="co">#&gt; 10 0.047819928</span></span>
<span><span class="co">#&gt; 11 0.028809065</span></span>
<span><span class="co">#&gt; 12 0.007552358</span></span></code></pre></div>
<p>The columns in the table are:<br>
1. <code>parts</code> - equal subsample. In our case - sixtiles.<br>
2. <code>Freq_0</code> - number of observations with “0” values.<br>
3. <code>Freq_1</code> - number of observations with “1” values.<br>
4. <code>means</code> - mean of independent variable in specific
interval (equal part).<br>
(scatter plot between <code>Freq_1</code> and <code>means</code> is the
basic plot that is pictured earlier).<br>
5. <code>min</code> - min value of independent variable in specific
interval (equal part).<br>
6. <code>max</code> - max value of independent variable in specific
interval (equal part).<br>
7. <code>prc5</code> - 5 percentile value of independent variable in
specific interval (equal part).<br>
8. <code>prc95</code> - 95 percentile value of independent variable in
specific interval (equal part).<br>
9. <code>low95CI</code> - lower Wald 95% interval (2.5%). Wald CI
are:<br><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mover><mi>π</mi><mo accent="true">̂</mo></mover><mo>±</mo><msub><mi>z</mi><mrow><mi>a</mi><mi>/</mi><mn>2</mn></mrow></msub><mo>×</mo><msqrt><mfrac><mrow><mover><mi>π</mi><mo accent="true">̂</mo></mover><mo>×</mo><mrow><mo stretchy="true" form="prefix">(</mo><mn>1</mn><mo>−</mo><mover><mi>π</mi><mo accent="true">̂</mo></mover><mo stretchy="true" form="postfix">)</mo></mrow></mrow><mi>n</mi></mfrac></msqrt></mrow><annotation encoding="application/x-tex">\hat{\pi} \pm z_{a/2}\times \sqrt{\frac{\hat{\pi}\times(1-\hat{\pi})}{n}}</annotation></semantics></math><br>
where
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mover><mi>π</mi><mo accent="true">̂</mo></mover><annotation encoding="application/x-tex">\hat{\pi}</annotation></semantics></math>
is an estimated probability, and
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>z</mi><mrow><mi>a</mi><mi>/</mi><mn>2</mn></mrow></msub><mo>=</mo><mn>1.96</mn></mrow><annotation encoding="application/x-tex">z_{a/2} = 1.96</annotation></semantics></math>
due to 95% CI.<br>
10. <code>high95CI</code> - higher Wald 95% interval (97.5%).</p>
</div>
<div class="section level2">
<h2 id="example-2-sdiff">Example 2: <code>sdiff()</code><a class="anchor" aria-label="anchor" href="#example-2-sdiff"></a>
</h2>
<p>This function implements nonparametric test (alternative to t-test)
based on Monte Carlo Simulations. The idea is straightforward. First,
the initial difference between the groups is counted. Null hypothesis -
this difference is equal to zero, alternative hypothesis - the
difference is significantly different from zero. To test this
hypothesis, an iterative procedure is created where values from both
groups are randomly mixed (i.e. each observation can be randomly
assigned to one of the groups). Due to randomness, the difference in the
mean of the mixed groups should be zero. After a thousand such
procedures, we construct a distribution of the resulting differences and
then simply compare it with the observed difference. Consider the
following example:</p>
<p>We firstly simulate two random variables -
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>X</mi><annotation encoding="application/x-tex">X</annotation></semantics></math>
and
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>Y</mi><annotation encoding="application/x-tex">Y</annotation></semantics></math>.
Lets assume that they show state-capacity index in group of countries
that have never experienced revolutions
(<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>X</mi><annotation encoding="application/x-tex">X</annotation></semantics></math>)
and the same index in the group of countries that have experienced at
least one revolution in their history. We want to know - is there a
statistically significant difference.</p>
<p>In our simulated example,
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>X</mi><mo>∼</mo><mi>N</mi><mrow><mo stretchy="true" form="prefix">(</mo><mn>0.5</mn><mo>,</mo><msup><mn>2</mn><mn>2</mn></msup><mo stretchy="true" form="postfix">)</mo></mrow></mrow><annotation encoding="application/x-tex">X \sim N(0.5,2^2)</annotation></semantics></math>
and
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Y</mi><mo>∼</mo><mi>N</mi><mrow><mo stretchy="true" form="prefix">(</mo><mn>2</mn><mo>,</mo><msup><mn>2</mn><mn>2</mn></msup><mo stretchy="true" form="postfix">)</mo></mrow></mrow><annotation encoding="application/x-tex">Y \sim N(2,2^2)</annotation></semantics></math>.
So, indeed there is a difference in means. Lets try to statistically
support it.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">x</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="fl">50</span>, <span class="fl">0.5</span>, <span class="fl">2</span><span class="op">)</span> <span class="co">#E(x) = 0.5</span></span>
<span><span class="va">y</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="fl">50</span>, <span class="fl">2</span>, <span class="fl">2</span><span class="op">)</span> <span class="co">#E(y) = 2</span></span>
<span><span class="fu"><a href="../reference/sdiff.html">sdiff</a></span><span class="op">(</span><span class="va">y</span>, <span class="va">x</span>, n <span class="op">=</span> <span class="fl">1000</span><span class="op">)</span> <span class="co">#True E(y)-E(x) = 1.5</span></span></code></pre></div>
<p><img src="csra_files/figure-html/unnamed-chunk-5-1.png" width="100%"></p>
<p>Indeed, there is a statistically significant difference and one can
reject
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>H</mi><mn>0</mn></msub><annotation encoding="application/x-tex">H_0</annotation></semantics></math>
at any acceptable confidence level.</p>
</div>
<div class="section level2">
<h2 id="example-3-calibration">Example 3: <code>calibration()</code><a class="anchor" aria-label="anchor" href="#example-3-calibration"></a>
</h2>
<p>The next function <code><a href="../reference/calibration.html">calibration()</a></code> gives an in-sample
calibration graph for binary outcome models. In other words, it is a
tool for model evaluation. The logic of that test is straighforward:</p>
<ol style="list-style-type: decimal">
<li>Get estimated probabilities from a model and sort them into
<strong>bins</strong> of equal width. By default function makes 10 equal
parts.</li>
<li>In each bin, compute: (a) mean predicted probability and (b) the
average fraction of 1s</li>
<li>Plot them and look at systematic deviation from 45 line. If there is
no such a deviations, the model is good.</li>
</ol>
<p>The function was inspired by Gary King, the idea came from his <a href="https://www.youtube.com/watch?v=_L6zUSNMXHU" class="external-link">lecture</a>, while I
changed it a little bit.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">logit</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/glm.html" class="external-link">glm</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">datex</span>, </span>
<span>             <span class="va">NVC_1.3_VIOL</span> <span class="op">~</span> <span class="va">UN_Total_Population_log</span> <span class="op">+</span> <span class="va">UN_Median_Age</span> <span class="op">+</span> <span class="va">VDEM_v2x_polyarchy_lag</span>,</span>
<span>             family <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/family.html" class="external-link">binomial</a></span><span class="op">(</span>link <span class="op">=</span> <span class="st">"logit"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="../reference/calibration.html">calibration</a></span><span class="op">(</span><span class="va">logit</span><span class="op">)</span></span></code></pre></div>
<p><img src="csra_files/figure-html/unnamed-chunk-6-1.png" width="100%"></p>
</div>
<div class="section level2">
<h2 id="example-4-eba">Example 4: <code>eba()</code><a class="anchor" aria-label="anchor" href="#example-4-eba"></a>
</h2>
<p>Extreme Boundary Analysis (EBA), proposed in its discussed view by
Sala-i-Martin (1997) subsequent modifications proposed by other authors
(Hegre and Sambanis 2006), is a method for testing the robustness of an
estimate of a variable by running models with all possible combinations
of other variables.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">eba.out</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/eba.html">eba</a></span><span class="op">(</span>y <span class="op">=</span> <span class="st">"NVC_1.3_VIOL"</span>, <span class="co">#DV</span></span>
<span>               x <span class="op">=</span> <span class="st">"UN_Median_Age"</span>, <span class="co">#Var of interest</span></span>
<span>               const <span class="op">=</span> <span class="st">"year"</span>, <span class="co">#FE </span></span>
<span>               control <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"VDEM_v2x_polyarchy_lag"</span>,</span>
<span>                           <span class="st">"UN_Total_Population_log"</span>, </span>
<span>                           <span class="st">"One_more_var"</span>, </span>
<span>                           <span class="st">"One_more_var"</span>,</span>
<span>                           <span class="st">"One_more_var"</span><span class="op">)</span>, </span>
<span>               data <span class="op">=</span> <span class="va">datex</span>, </span>
<span>               nvar <span class="op">=</span> <span class="fl">3</span>, <span class="co">#How many controls include in each model?</span></span>
<span>               model <span class="op">=</span> <span class="st">"logit"</span>, </span>
<span>               cl <span class="op">=</span> <span class="cn">NULL</span> <span class="co">#Numver of engines to use, default is `NULL` for one engine</span></span>
<span>               <span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="some-additional-functions">Some additional functions<a class="anchor" aria-label="anchor" href="#some-additional-functions"></a>
</h2>
<div class="section level3">
<h3 id="goldstone-regime-type-classification">Goldstone regime type classification<a class="anchor" aria-label="anchor" href="#goldstone-regime-type-classification"></a>
</h3>
<p>Goldstone et al. (<a href="https://doi.org/10.1111/j.1540-5907.2009.00426.x" class="external-link">2010</a>)
proposed new regime type classification that is based on Polity-V
project. This approach distinguishes five types of political regimes
based on two indicators of the Polity database – EXREC (Executive
Recruitment) and PARCOMP (Competitiveness of Political Participation).
Function <code>goldclass</code> provide you with ability to recode
Polity-V data into 5-class variable:<br>
1. full autocracy<br>
2. partial autocracy<br>
3. partial democracy<br>
4. partial democracy with factionalism<br>
5. full democracy</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="va">polity5data</span><span class="op">$</span><span class="va">goldstone_regime</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/goldclass.html">goldclass</a></span><span class="op">(</span>exrec <span class="op">=</span> <span class="va">polity5data</span><span class="op">$</span><span class="va">exrec</span>, parcomp <span class="op">=</span> <span class="va">polity5data</span><span class="op">$</span><span class="va">parcomp</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="fgls-model-for-estimated-dependent-variable">FGLS model for estimated dependent variable<a class="anchor" aria-label="anchor" href="#fgls-model-for-estimated-dependent-variable"></a>
</h3>
<p>The <code>edv.fgls</code> function is based completely on the
following paper:</p>
<p>Lewis, J. B., &amp; Linzer, D. A. (2005). Estimating regression
models in which the dependent variable is based on estimates.
<em>Political analysis</em>, 13(4), 345-364.</p>
<p>There are two possible strategies. If variance of each
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>y</mi><mi>i</mi></msub><annotation encoding="application/x-tex">y_i</annotation></semantics></math>
is unknown, then numeric vector of number of observations
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi><mo>=</mo><mrow><mo stretchy="true" form="prefix">[</mo><msub><mi>n</mi><mn>1</mn></msub><mo>,</mo><mi>.</mi><mi>.</mi><mi>.</mi><mo>,</mo><msub><mi>n</mi><mi>i</mi></msub><mo stretchy="true" form="postfix">]</mo></mrow></mrow><annotation encoding="application/x-tex">N=[n_1,...,n_i]</annotation></semantics></math>
on which each
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>y</mi><mi>i</mi></msub><annotation encoding="application/x-tex">y_i</annotation></semantics></math>
was estimated should be provided. For example,
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>y</mi><annotation encoding="application/x-tex">y</annotation></semantics></math>
- mean of housholds income, then <code>n</code> is the number of
housholds.</p>
<p>The second possible situation is when a variance of each
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>y</mi><mi>i</mi></msub><annotation encoding="application/x-tex">y_i</annotation></semantics></math>
is known. In that case, you should provide <code>DVvariance</code>
argument in the function with numeric vector of such variances
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>V</mi><mo>=</mo><mrow><mo stretchy="true" form="prefix">[</mo><msub><mi>v</mi><mn>1</mn></msub><mo>,</mo><mi>.</mi><mi>.</mi><mi>.</mi><mo>,</mo><msub><mi>v</mi><mi>i</mi></msub><mo stretchy="true" form="postfix">]</mo></mrow></mrow><annotation encoding="application/x-tex">V=[v_1,...,v_i]</annotation></semantics></math>.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">lm1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/lm.html" class="external-link">lm</a></span><span class="op">(</span><span class="va">estimated_y</span> <span class="op">~</span> <span class="va">x</span>, data <span class="op">=</span> <span class="va">data</span><span class="op">)</span></span>
<span><span class="va">corrected_model1</span> <span class="op">=</span> <span class="fu"><a href="../reference/edv.fgls.html">edv.fgls</a></span><span class="op">(</span><span class="va">lm1</span>, DVvariance <span class="op">=</span> <span class="va">variance_y_vector</span><span class="op">)</span> <span class="co"># if variance of each y is known</span></span>
<span><span class="va">corrected_model2</span> <span class="op">=</span> <span class="fu"><a href="../reference/edv.fgls.html">edv.fgls</a></span><span class="op">(</span><span class="va">lm1</span>, n <span class="op">=</span> <span class="va">number_of_n_for_each_y_vector</span><span class="op">)</span> <span class="co"># if variance of each y is unknwon </span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a>
</h2>
<p>Lewis, J. B., &amp; Linzer, D. A. (2005). Estimating regression
models in which the dependent variable is based on estimates.
<em>Political analysis</em>, 13(4), 345-364.</p>
<p>Hegre, H., &amp; Sambanis, N. (2006). Sensitivity analysis of
empirical results on civil war onset. <em>Journal of conflict
resolution</em>, 50(4), 508-535.</p>
<p>Xavier X. Sala-I-Martin. (1997). I Just Ran Two Million Regressions.
<em>The American Economic Review</em>, 87(2), 178–183.</p>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Vadim Ustyuzhanin.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.0.</p>
</div>

    </footer>
</div>





  </body>
</html>
